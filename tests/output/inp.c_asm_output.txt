section .data
__printf_size: equ 16
__temp_str_1 db `%d\n`, 0
__main_size: equ 80
section .text
extern printf
global main
main:
push rbp
mov rbp, rsp
sub rsp, __main_size
mov rax, 1
mov rbx, 2
mul rbx
mov [rsp + 8], rax
mov rax, 10
mov rbx, [rsp + 8]
sub rax, rbx
mov [rsp + 16], rax
mov rax, 3
mov rbx, 4
sub rax, rbx
mov [rsp + 24], rax
mov rax, [rsp + 16]
mov rbx, [rsp + 24]
sub rax, rbx
mov [rsp + 32], rax
mov rax, [rsp + 32]
mov [rsp+0], rax
mov rax, __temp_str_1
mov [rsp + 40], rax
mov rax, [rsp + 0]
mov [rsp + 48], rax
mov rdi, [rsp + 40]
mov rsi, [rsp + 48]
call printf
mov [rsp + 56], rax
mov rsp, rbp
pop rbp
ret
extern exit
global _start
_start:
call main
mov rdi, 0
call exit
